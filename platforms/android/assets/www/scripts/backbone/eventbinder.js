!function(n,e){if("object"==typeof exports){var t=require("underscore"),i=require("backbone");module.exports=e(t,i)}else"function"==typeof define&&define.amd&&define(["underscore","backbone"],e)}(this,function(n,e){"option strict";return e.EventBinder=function(n,e){"use strict";function t(n){if(e.isUndefined(n)||e.isNull(n))throw new Error("Can't bindTo undefined");return n.jquery?i.jquery:i["default"]}var i={"default":{bindTo:function(n,e,t,i){i=i||this,n.on(e,t,i);var r={type:"default",obj:n,eventName:e,callback:t,context:i};return r},unbindFrom:function(n){n.obj.off(n.eventName,n.callback,n.context)}},jquery:{bindTo:function(n,t,i,r){r=r||this,i=e(i).bind(r),n.on(t,i);var o={type:"jquery",obj:n,eventName:t,callback:i,context:r};return o},unbindFrom:function(n){n.obj.off(n.eventName,n.callback)}}},r=function(){this._eventBindings=[]};return r.extend=n.View.extend,e.extend(r.prototype,{bindTo:function(){var n=arguments[0],e=t(n),i=Array.prototype.slice.apply(arguments),r=e.bindTo.apply(this,i);return this._eventBindings.push(r),r},unbindFrom:function(n){var t=Array.prototype.slice.apply(arguments);i[n.type].unbindFrom.apply(this,t),this._eventBindings=e.reject(this._eventBindings,function(e){return e===n})},unbindAll:function(){var n=e.map(this._eventBindings,e.identity);e.each(n,this.unbindFrom,this)}}),r}(e,n),e.EventBinder});